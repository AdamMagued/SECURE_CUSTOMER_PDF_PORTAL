# Server Configuration
server.port=8082

# Disable separate management server to avoid port conflicts
management.server.port=-1
management.endpoints.web.exposure.include=health,info,metrics

# Context path for WAR deployment
server.servlet.context-path=/customerdatasearch

# Web application configuration
spring.main.web-application-type=servlet

# Logging configuration
logging.level.com.example.CUSTOMERDATASEARCH=INFO
logging.level.org.springframework.web=INFO
logging.level.org.apache.tomcat=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# File upload settings
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# Security (disabled for simplicity - enable in production)
spring.security.enabled=false

# Static resource configuration
spring.web.resources.static-locations=classpath:/static/,classpath:/public/
spring.web.resources.cache.period=3600
spring.web.resources.chain.cache=true
spring.web.resources.chain.compressed=true

# Jackson configuration
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.serialization.write-dates-as-timestamps=false

# Encoding settings
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# Session configuration
server.servlet.session.timeout=30m
server.servlet.session.cookie.max-age=1800
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.http-only=true

# Additional settings for WAR deployment
server.forward-headers-strategy=native
server.use-forward-headers=true

# Tomcat Configuration
server.tomcat.max-http-form-post-size=50MB
server.tomcat.max-swallow-size=50MB
server.tomcat.connection-timeout=30000
server.tomcat.max-connections=8192
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# LASERFICHE API CONFIGURATION
laserfiche.api.url=https://headq-Ifwb-t.awb.local/LaserficheLOS/api/Values/GetDocument
laserfiche.api.username=AWBANK\\svc-If-t
laserfiche.api.password=nbk@1234!
laserfiche.api.timeout.connect=10000
laserfiche.api.timeout.read=60000

# HTTP Client Configuration (Updated property names for RestTemplateConfig)
http.client.max.connections=50
http.client.max.connections.per.route=10

# Application Information
info.app.name=NBK Customer Data Search
info.app.description=Secure customer document viewer with Laserfiche integration
info.app.version=2.0.0
info.app.encoding=UTF-8
info.app.java.version=${java.version}

# Health Check Configuration
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.health.defaults.enabled=true
management.health.diskspace.enabled=true

# Metrics
management.metrics.enable.all=true
management.metrics.export.simple.enabled=true

# Performance Tuning
spring.jpa.open-in-view=false
server.tomcat.accept-count=100
server.tomcat.processor-cache=200

# Web Resources
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**

# Actuator endpoints
management.endpoints.web.base-path=/actuator
management.endpoint.shutdown.enabled=false

# Application startup
spring.main.lazy-initialization=false
spring.application.name=nbk-customer-data-search

# Error handling - FIXED the deprecated property
server.error.whitelabel.enabled=false
server.error.path=/error
server.error.include-stacktrace=on-param
server.error.include-message=always

# Development settings (remove in production)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# Banner
spring.main.banner-mode=log